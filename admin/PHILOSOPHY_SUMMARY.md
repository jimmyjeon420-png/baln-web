# 철학 기반 AI 추천 시스템 - 한눈에 보기

## 🎯 핵심 개념

**"데이터만 보지 말고, baln의 정체성(습관+맥락+매일읽기)에 맞는 기능을 우선 추천"**

### 3인 철학자 라운드테이블

```
┌─────────────────────────────────────────────────────────────────┐
│                    baln 개발 우선순위 결정                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   [이승건 35%]          [달리오 40%]          [버핏 25%]        │
│   보상으로 교육을        맥락이 공포를        매일 읽는 사람이    │
│   감싸라                이해로 바꾼다          결국 이긴다        │
│   (습관 형성)           (맥락 제공)           (매일 읽기)        │
│                                                                  │
│        ↓                     ↓                     ↓            │
│                                                                  │
│              철학 점수 = 가중평균 (60%)                          │
│                         +                                        │
│              데이터 영향도 (40%)                                 │
│                         ↓                                        │
│                  최종 우선순위 순위                              │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📁 생성된 파일

### 1. `philosophy-recommender.js` (핵심 로직)
- **역할**: 점수 계산 + UI 렌더링
- **크기**: ~15KB
- **의존성**: 없음 (순수 JS)

**주요 함수**:
```javascript
calculatePriorities(metrics)     // 우선순위 계산
renderRecommendations(metrics)   // UI 렌더링
calculatePhilosophyScore(feature) // 철학 점수
calculateDataImpact(feature, metrics) // 데이터 영향도
```

### 2. `philosophy-demo.html` (독립 데모)
- **역할**: 통합 전 테스트용
- **사용법**: 브라우저에서 직접 열기
- **입력**: D7 리텐션, 전환율, MAU 등
- **출력**: 상위 5개 추천 + 전체 목록

### 3. `PHILOSOPHY_RECOMMENDER_GUIDE.md` (가이드)
- **역할**: 통합 방법, 커스터마이징, 트러블슈팅
- **대상**: 개발자 (Claude 또는 팀원)

### 4. `INTEGRATION_PATCH.md` (통합 패치)
- **역할**: index.html 수정 방법 (라인별 안내)
- **주의**: 병렬 작업 규칙 준수 필요

### 5. `PHILOSOPHY_SUMMARY.md` (이 문서)
- **역할**: 전체 요약 + 빠른 참조

---

## 🏆 추천 로직 예시

### 시나리오 1: 위기 상황 (D7 25%, 전환 3%, MAU 30)

```
입력 지표:
  D7 리텐션: 25% (목표 40% 미달)
  전환율: 3% (목표 6% 미달)
  MAU: 30명 (목표 2000명)

철학 기반 추천 순위:
  1. 아침_알림_시스템 (9.2점)
     철학: 버핏 10점, 이승건 5점, 달리오 4점
     데이터 영향도: 10점 (리텐션 직접 타겟)
     → "매일 읽는 사람이 결국 이긴다"

  2. 연속_기록_시스템 (9.0점)
     철학: 이승건 10점, 버핏 9점, 달리오 4점
     데이터 영향도: 9점 (습관 형성)
     → "보상으로 교육을 감싸면 매일 온다"

  3. 맥락_카드_4겹 (8.8점)
     철학: 달리오 10점, 버핏 10점, 이승건 6점
     데이터 영향도: 9점 (패닉셀 방지)
     → "맥락을 제공하면 공포가 이해로 바뀐다"
```

**해석**: 위기 상황에서는 **매일 오게 만드는 기능**(알림, 스트릭)이 최우선.

---

### 시나리오 2: 성장 중 (D7 45%, 전환 7%, MAU 500)

```
입력 지표:
  D7 리텐션: 45% (목표 달성!)
  전환율: 7% (목표 초과!)
  MAU: 500명 (목표 25%)

철학 기반 추천 순위:
  1. 맥락_카드_4겹 (9.2점)
     철학: 달리오 10점, 버핏 10점
     데이터 영향도: 7점 (리텐션 양호)
     → 철학 점수가 높아서 1순위

  2. 공유_기능 (7.8점)
     데이터 영향도: 9점 (MAU 가속 필요)
     → MAU 성장을 위한 바이럴

  3. 또래_비교_넛지 (7.5점)
     철학: 이승건 7점, 달리오 6점
     데이터 영향도: 5점
     → 전환율 추가 개선
```

**해석**: 성장 중에는 **철학 점수 높은 기능**(맥락 카드) + **MAU 가속**(공유).

---

## 📊 점수 계산 공식

### 최종 점수
```
최종 점수 = 철학 점수 × 0.6 + 데이터 영향도 × 0.4
```

### 철학 점수
```
철학 점수 = (이승건 점수 × 0.35) + (달리오 점수 × 0.40) + (버핏 점수 × 0.25)
```

### 데이터 영향도
```
데이터 영향도 = if (현재 지표 < 목표) { 높은 점수 } else { 낮은 점수 }

예:
  연속_기록_시스템:
    - D7 리텐션 < 40% → 9점
    - D7 리텐션 >= 40% → 5점

  공유_기능:
    - MAU < 목표 × 0.5 → 9점
    - MAU >= 목표 × 0.5 → 4점
```

---

## 🎨 UI 구조

```
┌─────────────────────────────────────────────────────────────┐
│ 🎯 철학 기반 AI 추천 (상위 5개)                             │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ ⚠️ 주의: 다음 기능은 baln 철학과 맞지 않습니다              │
│   ❌ 시장_타이밍_알림 → 버핏 철학 위배                      │
│   ❌ 단기_수익률_경쟁 → 달리오 철학 위배                    │
│   ❌ 공포_마케팅_푸시 → 버핏 철학 위배                      │
│                                                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ [1] ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━      9.2       │
│     맥락_카드_4겹                                           │
│     역사/거시/기관/내포트폴리오 4겹 레이어                  │
│                                                              │
│     철학 점수: 9.0 (60%)  │  데이터 영향도: 9.0 (40%)      │
│                                                              │
│     📌 철학 근거: 달리오 ⭐⭐⭐⭐⭐ / 버핏 ⭐⭐⭐⭐        │
│     💡 "맥락을 제공하면 공포가 이해로 바뀐다"                │
│                                                              │
│     📊 예상 효과: D7 리텐션 +10%, 패닉셀 -30%               │
│                                                              │
│     🎯 3인 철학자 평가 보기 ▼                               │
│       [이승건] ⭐⭐⭐ (6/10)                                │
│         "교육 가치는 높지만, 보상 연결이 약함"              │
│       [달리오] ⭐⭐⭐⭐⭐ (10/10)                           │
│         "완벽한 맥락 제공. 즉시 구현 필요!"                 │
│       [버핏] ⭐⭐⭐⭐⭐ (10/10)                             │
│         "매일 읽을 가치가 충분함"                           │
│                                                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ [2] ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━      8.8       │
│     연속_기록_시스템                                        │
│     ...                                                      │
│                                                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ ... (3, 4, 5위)                                              │
│                                                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ 📋 전체 기능 목록 보기 (15개) ▼                             │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔧 커스터마이징 치트시트

### 철학 가중치 변경

```javascript
// philosophy-recommender.js의 calculatePhilosophyScore() 수정

// 현재: 맥락 40%, 습관 35%, 매일읽기 25%
return (seunggunScore * 0.35 + dalioScore * 0.40 + buffettScore * 0.25);

// 습관 중심: 습관 50%, 맥락 30%, 매일읽기 20%
return (seunggunScore * 0.50 + dalioScore * 0.30 + buffettScore * 0.20);

// 맥락 중심: 맥락 50%, 습관 30%, 매일읽기 20%
return (seunggunScore * 0.30 + dalioScore * 0.50 + buffettScore * 0.20);
```

### 새 기능 추가

```javascript
// 1. 철학 점수 추가
const PHILOSOPHY_SCORES = {
  seunggun: {
    // ... 기존
    "새_기능_이름": 7
  },
  dalio: {
    // ... 기존
    "새_기능_이름": 5
  },
  buffett: {
    // ... 기존
    "새_기능_이름": 4
  }
};

// 2. 설명 추가
const FEATURE_DESCRIPTIONS = {
  // ... 기존
  "새_기능_이름": {
    desc: "기능 설명",
    effect: "예상 효과",
    philosophy: "이승건 ⭐⭐⭐⭐ / 달리오 ⭐⭐⭐",
    quote: "'관련 철학 명언'"
  }
};

// 3. 데이터 영향도 추가
function calculateDataImpact(feature, metrics) {
  const impacts = {
    // ... 기존
    "새_기능_이름": metrics.조건 ? 높은점수 : 낮은점수
  };
  return impacts[feature] || 5;
}
```

### 철학 위배 기능 추가

```javascript
const ANTI_PHILOSOPHY_FEATURES = [
  // ... 기존
  {
    name: "새_위배_기능",
    reason: "어떤 철학 위배: '이유'",
    alternative: "대안: 대체 기능"
  }
];
```

---

## ✅ 통합 체크리스트

### 준비 단계
- [ ] `philosophy-demo.html` 열어서 독립 테스트
- [ ] 콘솔 에러 없는지 확인
- [ ] 다양한 지표 입력해보기 (리텐션 25% vs 45% 등)

### 통합 단계
- [ ] 다른 Claude가 `index.html` 수정 중인지 확인
- [ ] `cp index.html index.html.backup` (백업)
- [ ] `git pull` (최신 코드 받기)
- [ ] `<script src="philosophy-recommender.js"></script>` 추가
- [ ] AI 추천 로직 교체 (INTEGRATION_PATCH.md 참조)
- [ ] 렌더링 코드 교체

### 테스트 단계
- [ ] `index.html` 브라우저에서 열기
- [ ] 상위 5개 카드 정상 표시
- [ ] 철학 근거 표시 확인
- [ ] 3인 평가 접기/펼치기 작동
- [ ] 철학 위배 경고 표시
- [ ] 전체 목록 접기/펼치기 작동

### 마무리 단계
- [ ] Git 커밋
- [ ] 팀과 공유 (philosophy-demo.html 링크)
- [ ] 피드백 수집
- [ ] 철학 점수 미세 조정

---

## 🚀 빠른 시작 (5분 완성)

```bash
# 1. 파일 확인
ls -la /Users/nicenoodle/baln-web/admin/
# philosophy-recommender.js
# philosophy-demo.html
# PHILOSOPHY_RECOMMENDER_GUIDE.md
# INTEGRATION_PATCH.md
# PHILOSOPHY_SUMMARY.md

# 2. 독립 테스트
open philosophy-demo.html
# → 브라우저에서 열어서 작동 확인

# 3. index.html 통합 (INTEGRATION_PATCH.md 참조)
# 3-1. 백업
cp index.html index.html.backup

# 3-2. 스크립트 추가 (</body> 직전)
# <script src="philosophy-recommender.js"></script>

# 3-3. AI 추천 로직 교체 (2471-2492 라인)
# 3-4. 렌더링 코드 교체 (2501-2528 라인)

# 4. 테스트
open index.html
# → 콘솔 에러 없고, 추천 카드 정상 표시되면 성공!

# 5. 커밋
git add philosophy-*.js philosophy-*.html *.md
git commit -m "feat: 철학 기반 AI 추천 시스템 추가"
```

---

## 💡 핵심 인사이트

### 왜 데이터만으로는 안 되는가?

```
데이터만 보면:
  → "공유 기능이 바이럴 계수 +0.5"
  → "단기 수익률 리더보드가 참여율 +40%"
  → "시장 타이밍 알림이 DAU +60%"

BUT, baln 철학과 맞지 않음:
  ❌ 공유 = 바이럴은 맞지만, 습관/맥락/학습과 거리 멀음
  ❌ 단기 수익률 경쟁 = 맥락 없는 숫자, 공포 유발
  ❌ 시장 타이밍 알림 = 공포 마케팅, 안심과 반대

철학 기반 추천:
  ✅ 맥락 카드 = 데이터상 리텐션 +10%지만, 철학 점수 10점
  ✅ 연속 기록 = 습관 형성의 핵심, 철학 점수 9점
  ✅ 아침 알림 = 매일 읽기의 방아쇠, 철학 점수 8.3점
```

### 철학 vs 데이터 균형 (60:40)

```
철학 100% (데이터 무시):
  → 장기적으로 옳지만, 단기 위기 대응 못 함
  → 리텐션 25%인데 맥락 카드만 추천하면 앱 망함

데이터 100% (철학 무시):
  → 단기 지표는 좋아지지만, 정체성 상실
  → 토스, 카카오페이와 똑같은 앱 됨

철학 60% + 데이터 40%:
  → 위기 시 데이터 영향도가 높아져서 실용적 기능 우선
  → 안정 시 철학 점수가 높아져서 정체성 강화
  → **최선의 균형**
```

---

## 📞 문의 및 피드백

이 시스템에 대한 질문이나 개선 아이디어가 있다면:

1. `philosophy-demo.html`로 시뮬레이션 실행
2. 결과 스크린샷 첨부
3. "이 시나리오에서는 XX가 더 우선순위여야 할 것 같아요" 피드백

**핵심**: 이 시스템은 "정답"이 아니라 "철학 일관성 유지 도구"입니다. 실제 사용하면서 계속 조정해야 합니다.

---

## 🎯 다음 단계

### Phase 1: 검증 (1주)
- [ ] 매일 추천 순위 확인
- [ ] 실제 구현한 기능의 효과 측정
- [ ] 철학 점수와 실제 효과 비교

### Phase 2: 최적화 (2주)
- [ ] 가중치 미세 조정 (철학 60% → 55% OR 65%?)
- [ ] 데이터 영향도 임계값 조정 (리텐션 40% → 35%?)
- [ ] 새 기능 5개 추가

### Phase 3: 확장 (1개월)
- [ ] 월별 목표 연동 (6월 목표 달성률에 따라 가중치 동적 조정)
- [ ] A/B 테스트 결과 자동 반영
- [ ] 사용자 피드백 점수 통합

---

**마지막 한마디**:

> "데이터는 방향을 알려주지만, 철학은 목적지를 지킨다."
>
> baln은 "매일 5분 시장 맥락을 읽으며 자기만의 투자 기준을 형성하는 습관 앱"입니다.
> 이 정체성을 잃으면 숫자는 좋아도 영혼 없는 앱이 됩니다.
>
> 이 추천 시스템은 그 영혼을 지키는 파수꾼입니다. 🛡️
